<!DOCTYPE html>
<html lang="uz">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Axborot Xavfsizligi - Full Test</title>
    <style>
        :root { --primary: #2c3e50; --success: #27ae60; --error: #e74c3c; --bg: #f4f7f6; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); margin: 0; padding: 15px; line-height: 1.6; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: var(--primary); font-size: 22px; margin-bottom: 20px; }
        .question-card { margin-bottom: 25px; padding: 15px; border: 1px solid #eee; border-radius: 12px; }
        .question-text { font-weight: bold; font-size: 17px; color: #333; margin-bottom: 15px; display: block; }
        .opt-btn { 
            width: 100%; padding: 14px; text-align: left; 
            background: #fff; border: 2px solid #f0f0f0; 
            border-radius: 10px; cursor: pointer; font-size: 15px;
            margin-bottom: 10px; transition: all 0.2s ease;
            display: block;
        }
        /* Holatlar uchun ranglar */
        .correct { background-color: #d4edda !important; border-color: var(--success) !important; color: #155724; font-weight: bold; }
        .wrong { background-color: #f8d7da !important; border-color: var(--error) !important; color: #721c24; }
        .selected { border-color: #3498db !important; background-color: #ebf5fb; }
        .disabled { pointer-events: none; }
        
        #submit-all-btn { 
            width: 100%; padding: 18px; background: #3498db; color: white; 
            border: none; border-radius: 12px; font-size: 18px; font-weight: bold; 
            cursor: pointer; margin-top: 20px; box-shadow: 0 4px 10px rgba(52, 152, 219, 0.3);
        }
        #final-res { display: none; text-align: center; padding: 30px; border-top: 3px solid var(--success); }
        .score-num { font-size: 48px; color: var(--success); font-weight: 800; }
        .reload-btn { background: var(--primary); color: white; border: none; padding: 12px 25px; border-radius: 8px; cursor: pointer; margin-top: 15px; }
    </style>
</head>
<body>

<div class="container">
    <h1>Axborot Xavfsizligi va MBBT</h1>
    <div id="quiz-content">
        </div>
    
    <button id="submit-all-btn" onclick="finishQuiz()">Testni yakunlash va natijani ko'rish</button>
    
    <div id="final-res">
        <h3>Sizning natijangiz:</h3>
        <div class="score-num" id="total-score">0 / 25</div>
        <p id="percentage-text" style="font-size: 18px; font-weight: bold;"></p>
        <button class="reload-btn" onclick="location.reload()">Qayta topshirish</button>
    </div>
</div>

<script>
var questions = [
    { q: "Vaqt asosida ko'r-ko'rona SQL in'ektsiyasi nima?", a: "Bu to‘liq “ko‘r-ko‘rona” inyeksiya bo‘lib, unda tizim ishini bir muncha to‘xtatib turadi (SLEEP() yoki BENCHMARK()).", b: "Xatoliklar asosida bazadan ma'lumotlarni o'g'irlash usuli.", c: "Faqatgina ma'lumotlar bazasi parolini buzib kirish texnikasi.", ans: "a" },
    { q: "SQL tilida vazifalar va protseduralarni bajarish uchun ruxsat qaysi buyruq bilan ko'rsatiladi?", a: "RUN_PROCEDURE", b: "EXECUTE", c: "START_TASK", ans: "b" },
    { q: "Fayl serveri modeli nima?", a: "Eng sodda model bo'lib, lokal tarmoqdagi komponentlarning o'zaro aloqasining umumiy usulini xarakterlaydi.", b: "Barcha hisob-kitoblar serverda bajariladigan bulutli tizim.", c: "Faqatgina FTP protokoli orqali ishlaydigan tizim.", ans: "a" },
    { q: "SQL Server MBda INSERT buyrug'ining vazifasi nima?", a: "Jadval strukturasini o'chirish huquqi.", b: "Mavjud ma'lumotlarni filtrlash imkoniyati.", c: "Jadvalga ma'lumotlarni qo'shish huquqi/imkoniyati.", ans: "c" },
    { q: "SQL Server MBda UPDATE buyrug'ining vazifasi nima?", a: "Mavjud ma'lumotlarni yangilash huquqi/imkoniyati.", b: "Baza o'lchamini kengaytirish.", c: "Barcha foydalanuvchilarni bloklash.", ans: "a" },
    { q: "Ma'lumotlar bazasi serveri modeli nima?", a: "PDA-modelining rivoji bo'lib, saqlanuvchi muolajalar uning o'zagi hisoblanadi; barcha qoidalar serverda bajariladi.", b: "Faqatgina ma'lumotlarni arxivlash uchun ishlatiladigan tizim.", c: "Klient kompyuterida barcha amallar bajariladigan model.", ans: "a" },
    { q: "Axborot tizimlari xavfsizligining auditi nechta qismga bo'linadi?", a: "5 qismga.", b: "3 qismga.", c: "2 qismga.", ans: "b" },
    { q: "Taqsimlangan ma'lumotlar bazasini boshqarish tizimi (TMBBT) nima?", a: "Faqatgina bitta serverda ishlaydigan MBBT.", b: "Ma'lumotlarni faqat offline rejimda saqlovchi tizim.", c: "Taqsimlangan MB boshqarishni va uning taqsimlanganligi shaffofligini ta'minlovchi dasturiy tizim.", ans: "c" },
    { q: "Ma'lumotlar ombori (Data Warehouse) komponentalari qaysilar?", a: "Saqlanayotgan ma'lumotlar, qayta ishlash va boshqaruvchi dasturlar.", b: "Monitor, protsessor va tezkor xotira.", c: "SQL kodlari va Excel fayllari.", ans: "a" },
    { q: "“Ma'lumotlar bazasini himoyalash” deganda nima tushuniladi?", a: "Ruxsatsiz foydalanishdan, o'zgartirilishidan va xatolardan ogohlantirish hamda himoyalash.", b: "Kompyuterni jismoniy qulflash.", c: "Faqatgina ma'lumotlarni diskka yozib qo'yish.", ans: "a" },
    { q: "ORACLE MBBTda CONNECT operatorining to'g'ri sintaksisi qanday?", a: "LOGIN user password database", b: "CONNECT foydalanuvchi [parol] [@ma'lumotlar_bazasi]", c: "OPEN CONNECTION user_pass", ans: "b" },
    { q: "Tranzaksiya – bu...", a: "Banklararo pul o'tkazmasi.", b: "Ma'lumotlar bazasini qayta o'rnatish jarayoni.", c: "Ma'lumotlar bazasining joriy holatiga nisbatan alohida ma'noli amallar majmui.", ans: "c" },
    { q: "MBBTda axborot xavfsizligining uchta asosiy jihati qaysilar?", a: "Tezlik, xotira va dizayn.", b: "Konfidentsiallik, butunlik va foydalanuvchanlik.", c: "Kirish, chiqish va o'chirish.", ans: "b" },
    { q: "Rollar iyerarxiyasi qaysi elementlardan tashkil topadi?", a: "Imkoniyatlar, guruhlar va birlashuvlar.", b: "Direktor, ma'mur va talaba.", c: "SQL, Java va Python.", ans: "a" },
    { q: "Havij dasturi nima uchun qo'llaniladi?", a: "SQLi (SQL inyeksiya) hujumlarini avtomatlashtirish uchun.", b: "Ma'lumotlar bazasi serveridan ma'lumotlarni tahrirlash.", c: "Serverlardagi xatoliklarni tuzatish uchun.", ans: "a" },
    { q: "Taqsimlangan axborot tizimlarida yaxlitlikni ta'minlashda nechta yondashuv mavjud?", a: "5 ta.", b: "2 ta.", c: "10 ta.", ans: "b" },
    { q: "Foydalanuvchining ma'lum amallarni bajarish huquqi nima?", a: "Vakolat (Privilege/Authorization).", b: "Identifikatsiya.", c: "Sertifikatsiya.", ans: "a" },
    { q: "SQL Serverdagi “processadmin” roli vazifasi nima?", a: "Ma'lumotlarni o'chirish huquqi.", b: "Ishlayotgan jarayonlarni majburiy yakunlash huquqini beradi.", c: "Serverga yangi dastur o'rnatish.", ans: "b" },
    { q: "Bell-LaPadula modelida xavfsizlik siyosatining nechta asosiy cheklashlari mavjud?", a: "2 ta (Simple Security Property va *-Property).", b: "4 ta.", c: "Cheklovlar yo'q.", ans: "a" },
    { q: "Ma'lumotlar xavfsizligi nima?", a: "Ma'lumotlarni xavfdan, maxfiylik buzilishidan yoki yo'qolishidan himoyalash.", b: "Ma'lumotlarni ochiq qilish.", c: "Faqat qog'ozda saqlash.", ans: "a" },
    { q: "MBBTda foydalanuvchilarni identifikatsiyalash uchun buyruq?", a: "HELLO.", b: "WHOAMI.", c: "CONNECT.", ans: "c" },
    { q: "SQL Serverda “dbcreator” rolining vazifasi nima?", a: "MBni yaratish, o'zgartirish, o'chirish va tiklash.", b: "Yangi foydalanuvchi yaratish.", c: "Serverni qayta yuklash.", ans: "a" },
    { q: "MBBT turlari qaysilar?", a: "Oson va Murakkab.", b: "Iyerarxik, Tarmoqli va Relyatsion.", c: "Birlamchi va Ikkilamchi.", ans: "b" },
    { q: "Axborot tizimi himoyasini loyihalash bosqichlari?", a: "Kod yozish.", b: "Sotib olish.", c: "Xavf-xatarni tahlil qilish va siyosatni amalga oshirish.", ans: "c" },
    { q: "To'liq nusxalash (Full backup) nima?", a: "Barcha ma'lumotlarning butunligini va to'liqligini o'zgarishsiz holda nusxalash.", b: "Faqat bugun o'zgargan qismi.", c: "Faqat bitta jadval.", ans: "a" }
];

var userAnswers = new Array(questions.length).fill(null);

function initQuiz() {
    var container = document.getElementById('quiz-content');
    var html = "";
    for (var i = 0; i < questions.length; i++) {
        var q = questions[i];
        html += '<div class="question-card" id="card-' + i + '">';
        html += '<span class="question-text">' + (i + 1) + '. ' + q.q + '</span>';
        html += '<div class="options">';
        html += '<button class="opt-btn" id="btn-'+i+'-a" onclick="selectOption('+i+', \'a\')">' + q.a + '</button>';
        html += '<button class="opt-btn" id="btn-'+i+'-b" onclick="selectOption('+i+', \'b\')">' + q.b + '</button>';
        html += '<button class="opt-btn" id="btn-'+i+'-c" onclick="selectOption('+i+', \'c\')">' + q.c + '</button>';
        html += '</div></div>';
    }
    container.innerHTML = html;
}

function selectOption(qIdx, choice) {
    // Oldingi tanlovni tozalash
    var btns = document.querySelectorAll('#card-' + qIdx + ' .opt-btn');
    btns.forEach(b => b.classList.remove('selected'));
    
    // Yangisini tanlash
    document.getElementById('btn-' + qIdx + '-' + choice).classList.add('selected');
    userAnswers[qIdx] = choice;

    // Tezkor tekshirish (Instant feedback)
    checkInstant(qIdx, choice);
}

function checkInstant(qIdx, choice) {
    var correctAns = questions[qIdx].ans;
    var btns = document.querySelectorAll('#card-' + qIdx + ' .opt-btn');
    
    btns.forEach(b => {
        b.classList.add('disabled');
        var bChoice = b.id.split('-').pop();
        if (bChoice === correctAns) b.classList.add('correct');
    });

    if (choice !== correctAns) {
        document.getElementById('btn-' + qIdx + '-' + choice).classList.add('wrong');
    }
}

function finishQuiz() {
    var score = 0;
    var answered = 0;
    for (var i = 0; i < questions.length; i++) {
        if (userAnswers[i] !== null) {
            answered++;
            if (userAnswers[i] === questions[i].ans) score++;
        }
    }

    if (answered < questions.length) {
        if (!confirm("Hali barcha savollarni belgilamadingiz. Baribir yakunlaysizmi?")) return;
    }

    document.getElementById('quiz-content').style.display = 'none';
    document.getElementById('submit-all-btn').style.display = 'none';
    document.getElementById('final-res').style.display = 'block';
    
    document.getElementById('total-score').innerText = score + " / " + questions.length;
    var percent = Math.round((score / questions.length) * 100);
    document.getElementById('percentage-text').innerText = "To'g'ri javoblar ko'rsatkichi: " + percent + "%";
    
    window.scrollTo({top: 0, behavior: 'smooth'});
}

window.onload = initQuiz;
</script>
</body>
</html>
